# üìã Documenta√ß√£o de Problema de Neg√≥cio

## **Cen√°rio: Plataforma de Streaming de V√≠deo**

---

## üéØ **Vis√£o Geral do Neg√≥cio**

A **StreamFlix** √© uma plataforma de streaming de v√≠deo que oferece filmes, s√©ries e document√°rios sob demanda. Com o crescimento exponencial de usu√°rios, a arquitetura monol√≠tica atual n√£o consegue mais suportar:

- **5 milh√µes+ usu√°rios ativos mensais**
- **500.000+ streams simult√¢neos**
- **Upload de 1.000+ horas de conte√∫do diariamente**
- **Recomenda√ß√µes personalizadas em tempo real**
- **M√∫ltiplas qualidades de v√≠deo (4K, HD, SD)**

---

## üîÑ **Fluxo de Neg√≥cio Principal**

### **Jornada do Usu√°rio:**
1. **Autentica√ß√£o** ‚Üí Login/cadastro na plataforma
2. **Descoberta** ‚Üí Navega pelo cat√°logo e recebe recomenda√ß√µes
3. **Sele√ß√£o** ‚Üí Escolhe conte√∫do para assistir
4. **Streaming** ‚Üí Reproduz v√≠deo com qualidade adaptativa
5. **Intera√ß√£o** ‚Üí Pausa, retoma, avalia, adiciona √† lista
6. **Hist√≥rico** ‚Üí Sistema registra progresso de visualiza√ß√£o
7. **Recomenda√ß√£o** ‚Üí Algoritmo atualiza sugest√µes baseado no comportamento

### **Jornada do Criador de Conte√∫do:**
1. **Upload** ‚Üí Envia arquivo de v√≠deo original
2. **Processamento** ‚Üí Sistema converte para m√∫ltiplos formatos
3. **Modera√ß√£o** ‚Üí Conte√∫do passa por an√°lise autom√°tica/manual
4. **Publica√ß√£o** ‚Üí V√≠deo fica dispon√≠vel no cat√°logo
5. **Analytics** ‚Üí Criador acompanha m√©tricas de visualiza√ß√£o

---

## üìä **Dom√≠nios de Neg√≥cio Identificados**

| Dom√≠nio | Responsabilidades | Dados Principais |
|---------|------------------|------------------|
| **Usu√°rios** | Autentica√ß√£o, perfis, prefer√™ncias | Credenciais, perfis, assinaturas |
| **Cat√°logo** | Metadados de conte√∫do, categoriza√ß√£o | T√≠tulos, g√™neros, sinopses, elenco |
| **Streaming** | Reprodu√ß√£o de v√≠deo, qualidade adaptativa | URLs de stream, bitrates, legendas |
| **Processamento** | Encoding, transcodifica√ß√£o, thumbnails | Jobs de convers√£o, formatos, status |
| **Visualiza√ß√£o** | Hist√≥rico, progresso, estat√≠sticas | Tempo assistido, dispositivos, localiza√ß√£o |
| **Recomenda√ß√£o** | Algoritmos de ML, personaliza√ß√£o | Ratings, comportamento, similaridades |
| **Modera√ß√£o** | An√°lise de conte√∫do, compliance | Flags de conte√∫do, relat√≥rios, aprova√ß√µes |
| **Analytics** | M√©tricas de neg√≥cio, relat√≥rios | KPIs, dashboards, dados agregados |

---

## ‚ö° **Eventos de Neg√≥cio Cr√≠ticos**

### **Eventos que Impactam M√∫ltiplos Dom√≠nios:**

#### üé¨ **V√≠deo Carregado**
- **Quando:** Criador faz upload de novo conte√∫do
- **Impacto:** Inicia processamento, cria entrada no cat√°logo, agenda modera√ß√£o
- **Dados:** ID do v√≠deo, metadados, arquivo original, criador

#### ‚ñ∂Ô∏è **Stream Iniciado**
- **Quando:** Usu√°rio come√ßa a assistir conte√∫do
- **Impacto:** Registra visualiza√ß√£o, atualiza analytics, influencia recomenda√ß√µes
- **Dados:** ID do usu√°rio, ID do conte√∫do, dispositivo, qualidade, timestamp

#### ‚è∏Ô∏è **Progresso de Visualiza√ß√£o**
- **Quando:** Usu√°rio pausa, retoma ou termina de assistir
- **Impacto:** Salva ponto de parada, atualiza hist√≥rico, gera dados para ML
- **Dados:** Posi√ß√£o no v√≠deo, dura√ß√£o assistida, a√ß√£o (pause/play/stop)

#### üîÑ **Processamento Conclu√≠do**
- **Quando:** V√≠deo termina encoding em todas as qualidades
- **Impacto:** Disponibiliza para streaming, notifica criador, indexa para busca
- **Dados:** ID do v√≠deo, formatos gerados, URLs de CDN, thumbnails

#### ‚≠ê **Conte√∫do Avaliado**
- **Quando:** Usu√°rio d√° nota ou feedback
- **Impacto:** Atualiza algoritmo de recomenda√ß√£o, m√©tricas de qualidade
- **Dados:** Rating, coment√°rio, ID do usu√°rio, ID do conte√∫do

#### üö´ **Conte√∫do Moderado**
- **Quando:** Sistema ou moderador aprova/rejeita conte√∫do
- **Impacto:** Publica ou remove do cat√°logo, notifica criador
- **Dados:** Status da modera√ß√£o, motivo, moderador, timestamp

---

## üéØ **Requisitos N√£o-Funcionais**

### **Escalabilidade:**
- Streaming: Milh√µes de conex√µes simult√¢neas
- Processamento: Paraleliza√ß√£o massiva de encoding
- Recomenda√ß√µes: C√°lculos em tempo real para milh√µes de usu√°rios

### **Performance:**
- Streaming: Lat√™ncia <100ms para in√≠cio de reprodu√ß√£o
- Busca: Resultados em <200ms
- Recomenda√ß√µes: Atualiza√ß√µes em <500ms

### **Disponibilidade:**
- Streaming: 99.99% (core business)
- Cat√°logo: 99.9% (impacta descoberta)
- Analytics: 99% (n√£o cr√≠tico para usu√°rio final)

### **Armazenamento:**
- V√≠deos: Petabytes distribu√≠dos globalmente
- Metadados: Milh√µes de registros com busca r√°pida
- Analytics: Bilh√µes de eventos de telemetria

---

## üîç **Pontos de Integra√ß√£o Externa**

| Sistema | Tipo | Frequ√™ncia | Dados |
|---------|------|------------|-------|
| **CDN Global** | API REST | Cont√≠nua | URLs de v√≠deo, cache, geolocaliza√ß√£o |
| **Servi√ßos de ML** | API/Streaming | Tempo real | Dados comportamentais, features |
| **Pagamentos** | API REST | Por assinatura | Dados de cobran√ßa, status de pagamento |
| **Redes Sociais** | API REST | Por compartilhamento | Metadados de conte√∫do, links |
| **Sistemas de DRM** | API/SDK | Por stream | Licen√ßas, prote√ß√£o de conte√∫do |
| **Analytics Externos** | Webhook | Batch di√°rio | M√©tricas agregadas, relat√≥rios |

---

## üì± **Contextos de Uso**

### **Dispositivos M√∫ltiplos:**
- Smart TVs, smartphones, tablets, browsers
- Sincroniza√ß√£o de progresso entre dispositivos
- Qualidade adaptativa por capacidade do dispositivo

### **Cen√°rios de Rede:**
- Streaming adaptativo para conex√µes lentas
- Download offline para visualiza√ß√£o sem internet
- Otimiza√ß√£o para redes m√≥veis vs WiFi

### **Personaliza√ß√£o:**
- Perfis familiares (adulto, infantil)
- Recomenda√ß√µes por g√™nero, hor√°rio, dispositivo
- Controles parentais e restri√ß√µes de conte√∫do

---

## üìã **Desafio para o Aluno**

Com base nesta documenta√ß√£o, voc√™ deve:

### ‚úÖ **Parte 1: Identifica√ß√£o de Microsservi√ßos**
- Identifique **pelo menos 2 microsservi√ßos** baseados nos dom√≠nios
- Considere:
  - Diferentes padr√µes de acesso (leitura vs escrita)
  - Requisitos de escalabilidade distintos
  - Ciclos de vida independentes dos dados

### ‚úÖ **Parte 2: Eventos de Comunica√ß√£o**
- Mapeie **eventos ass√≠ncronos** cr√≠ticos para o neg√≥cio
- Defina **contratos de mensagem** com schemas detalhados
- Identifique **padr√µes de eventual consistency**

### ‚úÖ **Parte 3: Documenta√ß√£o no EventCatalog**
- Configure eventos no EventCatalog
- Documente **produtores e consumidores**
- Inclua **exemplos de payload** realistas

### ‚úÖ **Parte 4: Diagrama Visual**
- Crie diagrama mostrando:
  - Fluxo de dados entre microsservi√ßos
  - Eventos de alta frequ√™ncia vs baixa frequ√™ncia
  - Pontos de integra√ß√£o com sistemas externos
  - Estrat√©gias de cache e CDN

---

## üí° **Dicas para An√°lise**

1. **Observe volumes de dados** ‚Üí Alguns dom√≠nios processam muito mais dados
2. **Identifique opera√ß√µes custosas** ‚Üí Processamento de v√≠deo vs metadados
3. **Analise padr√µes temporais** ‚Üí Picos de uso em hor√°rios espec√≠ficos
4. **Considere lat√™ncia** ‚Üí Streaming precisa ser mais r√°pido que analytics
5. **Pense em falhas** ‚Üí O que acontece se o processamento falhar?

---

Este cen√°rio oferece complexidades interessantes como processamento ass√≠ncrono pesado, eventos de alta frequ√™ncia, e diferentes requisitos de performance entre dom√≠nios, proporcionando uma excelente base para discuss√£o sobre arquitetura de microsservi√ßos.